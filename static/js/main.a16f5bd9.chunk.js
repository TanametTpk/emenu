(this.webpackJsonpemenu=this.webpackJsonpemenu||[]).push([[0],{113:function(e,t,n){e.exports=n(177)},118:function(e,t,n){},119:function(e,t,n){},173:function(e,t){},177:function(e,t,n){"use strict";n.r(t);var r,a=n(0),c=n.n(a),o=n(10),i=n.n(o),u=(n(118),n(119),n(50)),s=n(12),l=n(104),p=n(6),d=n.n(p),f=n(11),m=n(22),v=n(52),h=n.n(v),g=n(217),b=n(100),x=n.n(b),y=n(99),E=n.n(y),w=n(67),O=n.n(w),j=function(e){var t=e.name,n=e.price,r=e.photo,a=e.onRemove,o=e.onAdd,i=e.orderCount;return c.a.createElement("div",{style:{display:"grid",height:"160px",gridTemplateColumns:" 2fr 3fr"}},r&&r.length>0?c.a.createElement("div",{style:{overflow:"hidden",borderRadius:"16px"}},c.a.createElement("img",{src:r+".jpg",alt:t,style:{height:"100%",objectFit:"cover"}})):c.a.createElement("div",{style:{overflow:"hidden",borderRadius:"16px",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"lightgray"}},c.a.createElement("img",{src:O.a,alt:t,style:{width:"50%"}})),c.a.createElement("div",{style:{padding:"8px 0 8px 18px",display:"flex",overflow:"hidden",justifyContent:"space-between",alignItems:"flex-start",flexDirection:"column"}},c.a.createElement("h3",{style:{margin:0,whiteSpace:"nowrap",textOverflow:"ellipsis"}},t),c.a.createElement("span",{style:{display:"flex"}},c.a.createElement("h2",{style:{margin:0,padding:"0"}},n),"\u0e3f"),c.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",justifyContent:"center",alignItems:"center",textAlign:"center"}},c.a.createElement(g.a,{"aria-label":"delete",variant:"outlined",onClick:a},c.a.createElement(E.a,null)),c.a.createElement("h3",{style:{margin:0}},i||0),c.a.createElement(g.a,{"aria-label":"delete",variant:"outlined",onClick:o},c.a.createElement(x.a,null)))))},k=function(e){var t=e.products,n=e.onAdd,r=e.onRemove,a=e.orders,o=function(e){var t=a.find((function(t){return t.product===e._id}));return t?t.quantity:0};return c.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr",gridGap:"12px",margin:"12px"}},t.map((function(e,t){return c.a.createElement(j,{key:t,name:e.name,price:e.price,photo:e.photo,onAdd:function(){return n(e)},onRemove:function(){return r(e)},orderCount:o(e)})})))},C=function(e){var t=e.orders,n=function(e){return"placed"===e?"\u0e01\u0e33\u0e25\u0e31\u0e07\u0e23\u0e2d\u0e22\u0e37\u0e19\u0e22\u0e31\u0e19":"process"===e?"\u0e01\u0e33\u0e25\u0e31\u0e07\u0e17\u0e33":"done"===e?"\u0e40\u0e2a\u0e23\u0e47\u0e08\u0e41\u0e25\u0e49\u0e27":e};return c.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr",gridGap:"12px",margin:"12px"}},t.map((function(e,t){var r=e.product,a=r.photo,o=r.name,i=r.price;return c.a.createElement("div",{key:t,style:{display:"grid",height:"120px",gridTemplateColumns:"120px 3fr"}},a&&a.length>0?c.a.createElement("div",{style:{overflow:"hidden",borderRadius:"16px",position:"relative",background:"black"}},c.a.createElement("img",{src:a+".jpg",alt:o,style:{height:"100%",objectFit:"cover",opacity:.4}}),c.a.createElement("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:"white",fontWeight:"bold"}},n(e.status))):c.a.createElement("div",{style:{overflow:"hidden",borderRadius:"16px",position:"relative",background:"black"}},c.a.createElement("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:"white",fontWeight:"bold"}},n(e.status))),c.a.createElement("div",{style:{padding:"8px 0 8px 18px",display:"flex",overflow:"hidden",justifyContent:"space-between",alignItems:"flex-start",flexDirection:"column"}},c.a.createElement("h2",{style:{margin:0,whiteSpace:"nowrap",textOverflow:"ellipsis"}},o),c.a.createElement("span",null,"\u0e23\u0e32\u0e04\u0e32 ",i," \u0e1a\u0e32\u0e17"),c.a.createElement("span",null,"\u0e08\u0e33\u0e19\u0e27\u0e19 ",e.quantity," \u0e17\u0e35\u0e48"),c.a.createElement("span",null,"\u0e23\u0e32\u0e04\u0e32\u0e23\u0e27\u0e21 ",i*e.quantity," \u0e1a\u0e32\u0e17")))})))},I=n(223),S=n(224),R=n(23),_=n.n(R),B={SERVER:window._env_?window._env_.SERVER:"https://testapp.statenext.com"},N="".concat(B.SERVER,"/menu"),W=function(e,t,n){return"?groupId=".concat(t,"&userId=").concat(n,"&businessId=").concat(e)},q={getProducts:function(){var e=Object(f.a)(d.a.mark((function e(t,n,r){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.get("".concat(N,"/").concat(W(t,n,r)));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),getOrders:function(){var e=Object(f.a)(d.a.mark((function e(t,n,r,a){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.get("".concat(N,"/orders/").concat(W(t,n,r),"&status=").concat(a));case 2:return c=e.sent,e.abrupt("return",c.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),placeOrders:function(){var e=Object(f.a)(d.a.mark((function e(t,n,r){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.post("".concat(N,"/orders/place").concat(W(t,n,r)));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),addOrder:function(){var e=Object(f.a)(d.a.mark((function e(t,n,r,a,c){var o,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={product:a,quantity:c},e.next=3,_.a.post("".concat(N,"/orders/").concat(W(t,n,r)),o);case 3:return i=e.sent,e.abrupt("return",i.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n,r,a,c){return e.apply(this,arguments)}}(),removeOrCancelOrder:function(){var e=Object(f.a)(d.a.mark((function e(t,n,r,a){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.delete("".concat(N,"/orders/").concat(a,"/").concat(W(t,n,r)));case 2:return c=e.sent,e.abrupt("return",c.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),getBilling:function(){var e=Object(f.a)(d.a.mark((function e(t,n,r){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.get("".concat(N,"/bills/").concat(W(t,n,r)));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),checkBill:function(){var e=Object(f.a)(d.a.mark((function e(t,n,r){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.post("".concat(N,"/bills/").concat(W(t,n,r)));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),addUser:function(){var e=Object(f.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.post("".concat(B.SERVER,"/users"),{name:t});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getUser:function(){var e=Object(f.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.get("".concat(B.SERVER,"/users/").concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},M=n(101),T=n.n(M),V=n(230),z=n(178),A=n(221),D=n(232),U=n(222),F=n(102),G=n.n(F),P=Object(A.a)((function(e){return{root:{padding:"2px 4px",display:"flex",alignItems:"center",width:"100vw",height:"7vh"},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10},divider:{height:28,margin:4}}})),J=function(e){var t=e.value,n=e.onChange,r=P();return c.a.createElement(z.a,{component:"form",className:r.root},c.a.createElement(D.a,{className:r.input,placeholder:"Search Menu",onChange:n,value:t}),c.a.createElement(U.a,{className:r.iconButton,"aria-label":"search"},c.a.createElement(G.a,null)))},Y=function(e){var t=Object(a.useState)(""),n=Object(m.a)(t,2),o=n[0],i=n[1],u=Object(a.useState)([]),p=Object(m.a)(u,2),v=p[0],b=p[1],x=Object(a.useState)([]),y=Object(m.a)(x,2),E=y[0],w=y[1],O=Object(a.useState)({}),j=Object(m.a)(O,2),R=j[0],_=j[1],N=Object(a.useState)(!1),W=Object(m.a)(N,2),M=W[0],A=W[1],D=Object(s.f)(),U=h.a.parse(e.location.search.substring(1)),F=U.zone,G=U.businessId,P=Object(a.useState)(!1),Y=Object(m.a)(P,2),L=Y[0],$=Y[1],H=Object(a.useState)(""),K=Object(m.a)(H,2),Q=K[0],X=K[1];Object(a.useEffect)((function(){var e;return F&&o&&(e=F,(r=T()(B.SERVER))&&e&&r.emit("join-room",e)),function(e){if(!r)return!0;r.on("add-order",(function(t){return e(null,t)}))}((function(e,t){e||te()})),function(e){if(!r)return!0;r.on("remove-order",(function(){return e(null)}))}((function(e){e||te()})),function(e){if(!r)return!0;r.on("place-order",(function(t){return e(null,t)}))}((function(e){e||(te(),ne())})),function(e){if(!r)return!0;r.on("cancel-order",(function(){return e(null)}))}((function(e){e||ne()})),function(e){if(!r)return!0;r.on("update-status-order",(function(t){return e(null,t)}))}((function(e){e||ne()})),function(e){if(!r)return!0;r.on("check-bill",(function(t){return e(null,t)}))}((function(e){$(!0)})),function(){console.log("Disconnecting socket..."),r&&r.disconnect()}}),[F,o]),Object(a.useEffect)((function(){var e=function(){var e=Object(f.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.getProducts(G,F,r);case 2:t=e.sent,b(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=Object(f.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.getOrders(G,F,r,"incart");case 2:t=e.sent,w(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n=function(){var e=Object(f.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.getBilling(G,F,r);case 2:t=e.sent,console.log(t),_(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(F||G){var r=localStorage.getItem("userId");r?(i(r),e(),t(),n()):ee()}else D.push("/notfound")}),[]);var Z=function(){var e=Object(f.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.addUser(t);case 2:n=e.sent,localStorage.setItem("userId",n._id);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(){Z("user-".concat(Math.floor(1e4*Math.random())))},te=function(){var e=Object(f.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.getOrders(G,F,o,"incart");case 2:t=e.sent,w(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=Object(f.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.getBilling(G,F,o);case 2:t=e.sent,console.log(t),_(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=function(){var e=Object(f.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.addOrder(G,F,o,t._id,1);case 2:if(n=e.sent,r=E.find((function(e){return e._id===n._id}))){e.next=7;break}return w([].concat(Object(l.a)(E),[n])),e.abrupt("return");case 7:w(E.map((function(e){return e._id===r._id?n:e})));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=Object(f.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=E.find((function(e){return e.product===t._id}))){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,q.removeOrCancelOrder(G,F,o,n._id);case 7:n.quantity-=1,w(E.map((function(e){return e.product===n.product._id?n:e})).filter((function(e){return e.quantity>0})));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ce=function(){var e=Object(f.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A(!0),e.next=3,q.placeOrders(G,F,o);case 3:return e.next=5,q.getOrders(G,F,o,"incart");case 5:t=e.sent,w(t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oe=function(){var e=Object(f.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.checkBill(G,F,o);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return c.a.createElement("div",null,M?null:c.a.createElement(J,{value:Q,onChange:function(e){var t=e.target.value;return X(t)}}),M?c.a.createElement("div",{style:{height:"85vh",overflowY:"scroll"}},c.a.createElement("div",null,c.a.createElement(C,{orders:R.orders}))):c.a.createElement("div",{style:{height:"87vh",overflowY:"scroll"}},c.a.createElement(k,{products:Q?v.filter((function(e){return e.name.includes(Q)})):v,onAdd:re,onRemove:ae,orders:E})),M?c.a.createElement("div",{style:{marginBottom:"6vh",height:"9vh",backgroundColor:"white",display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0 12px",zIndex:5}},c.a.createElement("span",null,"\u0e23\u0e32\u0e04\u0e32\u0e23\u0e27\u0e21\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14 ",R.totalPrice),c.a.createElement(g.a,{variant:"contained",color:"primary",onClick:oe},"\u0e40\u0e23\u0e35\u0e22\u0e01\u0e40\u0e01\u0e47\u0e1a\u0e40\u0e07\u0e34\u0e19")):null,c.a.createElement(I.a,{position:"fixed",style:{bottom:0,top:"auto",backgroundColor:"white"}},c.a.createElement(S.a,{container:!0,style:{height:"6vh"}},c.a.createElement(S.a,{item:!0,xs:6},c.a.createElement(g.a,{color:"primary",style:{height:"100%",width:"100%",backgroundColor:M?"lightGray":""},onClick:function(){return A(!M)}},"\u0e14\u0e39\u0e23\u0e32\u0e22\u0e01\u0e32\u0e23\u0e2d\u0e32\u0e2b\u0e32\u0e23\u0e17\u0e35\u0e48\u0e2a\u0e31\u0e48\u0e07")),c.a.createElement(S.a,{item:!0,xs:6},c.a.createElement(g.a,{color:"primary",style:{height:"100%",width:"100%"},onClick:ce},"\u0e2a\u0e31\u0e48\u0e07\u0e2d\u0e32\u0e2b\u0e32\u0e23")))),c.a.createElement(V.a,{open:L,onClick:function(){$(!1)},style:{zIndex:"10000"}},c.a.createElement(z.a,null,c.a.createElement("h1",null,"\u0e01\u0e33\u0e25\u0e31\u0e07\u0e40\u0e23\u0e35\u0e22\u0e01\u0e40\u0e01\u0e47\u0e1a\u0e40\u0e07\u0e34\u0e19"),c.a.createElement("span",null,"\u0e42\u0e1b\u0e23\u0e14\u0e23\u0e2d\u0e2a\u0e31\u0e01\u0e04\u0e23\u0e39\u0e48"))))},L=n(229),$=n(226),H=n(228),K=n(103),Q=n.n(K),X=n(227),Z=n(225),ee=Object(A.a)((function(e){return{paper:{display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)}}})),te=function(e){var t=ee(),n=Object(s.f)(),r=Object(a.useState)(""),o=Object(m.a)(r,2),i=o[0],u=o[1],l=h.a.parse(e.location.search.substring(1)),p=l.zone,v=l.businessId;Object(a.useEffect)((function(){p&&v||n.push("/notfound"),localStorage.getItem("userId")&&x()}));var b=function(){var e=Object(f.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.addUser(t);case 2:n=e.sent,localStorage.setItem("userId",n._id),x(),u("");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){n.push("/emenu/?businessId=".concat(v,"&zone=").concat(p))};return c.a.createElement(Z.a,{component:"main",maxWidth:"xs",style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"}},c.a.createElement($.a,null),c.a.createElement("div",{className:t.paper},c.a.createElement(L.a,{className:t.avatar},c.a.createElement(Q.a,null)),c.a.createElement(X.a,{component:"h1",variant:"h5"},"\u0e1a\u0e2d\u0e01\u0e0a\u0e37\u0e48\u0e2d\u0e43\u0e2b\u0e49\u0e40\u0e23\u0e32\u0e23\u0e39\u0e49\u0e08\u0e31\u0e01\u0e17\u0e48\u0e32\u0e19\u0e21\u0e32\u0e01\u0e02\u0e36\u0e49\u0e19\u0e2b\u0e19\u0e48\u0e2d\u0e22"),c.a.createElement("form",{className:t.form,noValidate:!0},c.a.createElement(H.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"name",label:"My Name is",name:"email",autoComplete:"email",autoFocus:!0,value:i,onChange:function(e){var t=e.target.value;return u(t)}}),c.a.createElement(S.a,{container:!0,direction:"column",style:{marginTop:"12px"},spacing:2},c.a.createElement(S.a,{item:!0},c.a.createElement(g.a,{fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(){i.replace(new RegExp(" ","g"),"").length<1&&alert("\u0e0a\u0e37\u0e48\u0e2d\u0e44\u0e21\u0e48\u0e16\u0e39\u0e01\u0e15\u0e49\u0e2d\u0e07"),b(i)}},"\u0e40\u0e02\u0e49\u0e32\u0e2a\u0e39\u0e48\u0e23\u0e30\u0e1a\u0e1a")),c.a.createElement(S.a,{item:!0},c.a.createElement(g.a,{fullWidth:!0,color:"secondary",className:t.submit,onClick:function(){b("user-".concat(Math.floor(1e4*Math.random())))}},"\u0e40\u0e02\u0e49\u0e32\u0e2a\u0e39\u0e48\u0e23\u0e30\u0e1a\u0e1a\u0e41\u0e1a\u0e1a\u0e44\u0e21\u0e48\u0e1a\u0e2d\u0e01\u0e0a\u0e37\u0e48\u0e2d"))))))};var ne=function(){return c.a.createElement(u.a,null,c.a.createElement(s.c,null,c.a.createElement(s.a,{component:Y}),c.a.createElement(s.a,{path:"/login",exect:!0,component:te})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(ne,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},67:function(e,t,n){e.exports=n.p+"static/media/photoEmpty.03ad602c.svg"}},[[113,1,2]]]);
//# sourceMappingURL=main.a16f5bd9.chunk.js.map